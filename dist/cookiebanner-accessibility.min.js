(function(a){var d=a,h=d.document;var g="cbinstance";
/*!
   * contentloaded.js
   *
   * Author: Diego Perini (diego.perini at gmail.com)
   * Summary: cross-browser wrapper for DOMContentLoaded
   * Updated: 20101020
   * License: MIT
   * Version: 1.2
   *
   * URL:
   * http://javascript.nwbox.com/ContentLoaded/
   * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE
   *
   */
;function b(l,p){var k=false,o=true,r=l.document,q=r.documentElement,u=r.addEventListener?"addEventListener":"attachEvent",s=r.addEventListener?"removeEventListener":"detachEvent",j=r.addEventListener?"":"on",t=function(v){if(v.type=="readystatechange"&&r.readyState!="complete"){return}(v.type=="load"?l:r)[s](j+v.type,t,false);if(!k&&(k=true)){p.call(l,v.type||v)}},n=function(){try{q.doScroll("left")}catch(v){setTimeout(n,50);return}t("poll")};if(r.readyState=="complete"){p.call(l,"lazy")}else{if(r.createEventObject&&q.doScroll){try{o=!l.frameElement}catch(m){}if(o){n()}}r[u](j+"DOMContentLoaded",t,false);r[u](j+"readystatechange",t,false);l[u](j+"load",t,false)}}var f={get:function(j){return decodeURIComponent(h.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(j).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},set:function(l,p,k,o,m,n){if(!l||/^(?:expires|max\-age|path|domain|secure)$/i.test(l)){return false}var j="";if(k){switch(k.constructor){case Number:j=k===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+k;break;case String:j="; expires="+k;break;case Date:j="; expires="+k.toUTCString();break}}h.cookie=encodeURIComponent(l)+"="+encodeURIComponent(p)+j+(m?"; domain="+m:"")+(o?"; path="+o:"")+(n?"; secure":"");return true},has:function(j){return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(j).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(h.cookie)},remove:function(j,l,k){if(!j||!this.has(j)){return false}h.cookie=encodeURIComponent(j)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(k?"; domain="+k:"")+(l?"; path="+l:"");return true}},e={on:function(k,l,j){var n=k.addEventListener?"addEventListener":"attachEvent",m=k.addEventListener?"":"on";k[n](m+l,j,false)},merge:function(){var m={},k=0,l=arguments.length,j;if(0===l){return m}for(;k<l;k++){for(j in arguments[k]){if(Object.prototype.hasOwnProperty.call(arguments[k],j)){m[j]=arguments[k][j]}}}return m},str2bool:function(j){j=""+j;switch(j.toLowerCase()){case"false":case"no":case"0":case"":return false;default:return true}},fade_in:function(j){if(j.style.opacity<1){j.style.opacity=(parseFloat(j.style.opacity)+0.05).toFixed(2);d.setTimeout(function(){e.fade_in(j)},50)}},get_data_attribs:function(k){var n={};if(Object.prototype.hasOwnProperty.call(k,"dataset")){n=k.dataset}else{var o=k.attributes,l;for(l in o){if(Object.prototype.hasOwnProperty.call(o,l)){var j=o[l];if(/^data-/.test(j.name)){var m=e.camelize(j.name.substr(5));n[m]=j.value}}}}return n},normalize_keys:function(j){var m={};for(var l in j){if(Object.prototype.hasOwnProperty.call(j,l)){var k=e.camelize(l);m[k]=j[k]?j[k]:j[l]}}return m},camelize:function(p){var o="-",k=p.indexOf(o);while(k!=-1){var n=(k===(p.length-1)),l=n?"":p[k+1],j=l.toUpperCase(),m=n?o:o+l;p=p.replace(m,j);k=p.indexOf(o)}return p},find_script_by_id:function(n){var j=h.getElementsByTagName("script");for(var m=0,k=j.length;m<k;m++){if(n===j[m].id){return j[m]}}return null}},c=e.find_script_by_id("cookiebanner"),i=function(j){this.init(j)};i.prototype={options:{},inputs:[],focusable:[],cookiejar:f,allowed:0,allowedBinary:"000",askBinary:"000",info:null,a:null,configure:null,steps:[],currentStep:-1,agreeValue:{audience:1,social:2,pub:4},agreeReplace:{audience:/^(..)(.)()$/,social:/^(.)(.)(.)$/,pub:/^()(.)(..)$/},agreeMask:{audience:"..1",social:".1.",pub:"1.."},add:function(j){this.allowed+=this.agreeValue[j];this.save()},set:function(j){this.allowed=j;this.save()},save:function(){this.setCookie(this.allowed)},decodeAllowed:function(j){return("000"+parseInt(j).toString(2)).substr(-3)},isAllowed:function(j,l){var k;if(!(j in this.agreeMask)){return false}k=new RegExp(this.agreeMask[j]);return k.test(l)},addQuestion:function(l){var x=this,n=h.createElement("div"),m=h.createElement("form"),k=h.createTextNode(this.options[l]),t=h.createElement("label"),w=h.createElement("label"),j=h.createElement("input"),s=h.createElement("input"),y=h.createElement("div"),r=h.createElement("div"),u=h.createElement("input"),p=h.createElement("div"),o=[],v=[];o.push(j);o.push(s);v.push(t);v.push(j);v.push(w);v.push(s);v.push(u);this.inputs.push(o);this.focusable.push(v);u.type="button";u.value="OK";u.style.background="none repeat scroll 0 0 #000";u.style.border="1px solid "+this.options.fg;u.style.color=this.options.fg;p.style.display="inline-block";p.appendChild(u);j.type=s.type="radio";j.name=s.name="cookiebanner-"+l;j.id="cookiebanner-"+l+"-yes";s.id="cookiebanner-"+l+"-no";e.on(u,"click",function(){if(j.checked){x.add(l)}else{x.save()}x.nextStep()});t.innerHTML=this.options.yes;t.htmlFor=j.id;w.innerHTML=this.options.no;w.htmlFor=s.id;n.style.display="none";n.setAttribute("aria-hidden",true);m.appendChild(k);y.style.padding=r.style.padding="5px 16px";y.style.display="inline-block";y.appendChild(t);y.appendChild(j);m.appendChild(y);r.style.display="inline-block";r.appendChild(w);r.appendChild(s);m.appendChild(r);m.appendChild(p);n.appendChild(m);this.steps.push(n);return n},addAnswer:function(j){var q=this,l=h.createElement("div"),r=h.createElement("p"),o=h.createElement("input"),n=h.createElement("div"),k=h.createElement("form"),m=[],p=[];o.type="button";o.value="OK";o.style.background="none repeat scroll 0 0 transparent";o.style.border="1px solid "+this.options.fg;o.style.color=this.options.fg;n.style.display="inline-block";n.appendChild(o);p.push(o);this.inputs.push(m);this.focusable.push(p);r.style.padding="5px 16px";r.innerHTML=this.options[j+"Answer"];r.style.display="inline-block";k.appendChild(r);k.appendChild(n);l.appendChild(k);l.style.display="none";l.setAttribute("aria-hidden",true);e.on(o,"click",function(){q.nextStep()});this.steps.push(l);return l},nextStep:function(){var l,j,k;if(this.currentStep>-1){l=this.steps[this.currentStep];l.style.display="none";l.setAttribute("aria-hidden",true);for(j=0;j<this.inputs[this.currentStep].length;j++){this.inputs[this.currentStep][j].checked=false}for(k=0;k<this.focusable[this.currentStep].length;k++){this.focusable[this.currentStep][k].tabIndex=-1}}else{this.info.style.display="none";this.info.setAttribute("aria-hidden",true);this.a.tabIndex=-1;this.configure.tabIndex=-1}this.currentStep++;if(this.currentStep<this.steps.length){l=this.steps[this.currentStep];l.style.display="inline";l.setAttribute("aria-hidden",false);for(j=0;j<this.inputs[this.currentStep].length;j++){this.inputs[this.currentStep][j].checked=false}for(k=0;k<this.focusable[this.currentStep].length;k++){this.focusable[this.currentStep][k].tabIndex=j}}else{this.info.style.display="inline";this.info.setAttribute("aria-hidden",false);this.a.tabIndex=0;this.configure.tabIndex=1;this.currentStep=-1}},visit:function(){this.cookiejar.set(this.options.cookie,-1,300,this.options.cookiePath);return true},visited:function(){return this.hasCookie()&&this.getCookie()==-1&&!this.onMoreInfoPage()},agree:function(){this.set(7);return true},agreed:function(){return this.getCookie()>-1},hasCookie:function(){return this.cookiejar.has(this.options.cookie)},getCookie:function(){return parseInt(this.cookiejar.get(this.options.cookie))},setCookie:function(j){this.cookiejar.set(this.options.cookie,j,this.options.expires,this.options.cookiePath);return true},removeCookie:function(j){this.cookiejar.remove(this.options.cookie,this.options.cookiePath);return true},init:function(j){this.inserted=false;this.closed=false;this.test_mode=false;var s="Acceptez-vous d'être suivi(e) par notre outils de mesure d'audience ?";var o="Acceptez-vous d'être suivi(e) par notre outils de partage sur les réseaux sociaux ?";var k="Acceptez-vous d'être suivi(e) par nos fournisseurs de publicité ?";var p="Votre paramétrage sur les outils de mesure d'audience a été enregistré.";var m="Votre paramétrage sur les outils de partage sur les réseaux sociaux.";var l="Votre paramétrage sur le suivi de nos fournisseurs de publicité.";var q="Nous utilisons des cookies afin d'établir des statistiques de fréquentation du site et vous permettre le partage sur les réseaux sociaux. En poursuivant votre navigation sur ce site, vous acceptez notre utilisation des cookies.";var n="En savoir plus";this.default_options={cookie:"cookiebanner-accepted",closeText:"&#10006;",cookiePath:"/",debug:false,expires:function(){var t=13,u=new Date();u.setMonth(u.getMonth()+t);return u},zindex:255,mask:false,maskOpacity:0.5,maskBackground:"#000",height:"auto",minHeight:"21px",bg:"#000",fg:"#ddd",link:"#aaa",position:"bottom",message:q,linkmsg:n,moreinfo:"http://aboutcookies.org",configure:"Paramétrer",ask:"0",audience:s,audienceAnswer:p,social:o,socialAnswer:m,pub:k,pubAnswer:l,yes:"Oui",no:"Non",effect:null,fontSize:"14px",fontFamily:"arial, sans-serif",instance:g};this.options=this.default_options;this.script_el=c;if(this.script_el){var r=e.get_data_attribs(this.script_el);this.options=e.merge(this.options,r)}if(j){j=e.normalize_keys(j);this.options=e.merge(this.options,j)}g=this.options.instance;this.options.zindex=parseInt(this.options.zindex,10);this.options.mask=e.str2bool(this.options.mask);if("string"===typeof this.options.expires){if("function"===typeof a[this.options.expires]){this.options.expires=a[this.options.expires]}}if("function"===typeof this.options.expires){this.options.expires=this.options.expires()}if(this.script_el){this.run()}},log:function(){if("undefined"!==typeof console){console.log.apply(console,arguments)}},onMoreInfoPage:function(){return document.location.href===this.options.moreinfo},run:function(){var j=this;if(this.visited()){this.agree()}if(!this.agreed()||this.onMoreInfoPage()){this.visit();var j=this;b(d,function(){j.insert()})}this.askBinary=this.decodeAllowed(this.options.ask);if(this.hasCookie()&&this.getCookie()>-1){this.allowed=this.getCookie()}else{this.allowed=0}this.allowedBinary=this.decodeAllowed(this.allowed);a.Cookiebanner={isAllowed:function(k){return j.isAllowed(k,j.allowedBinary)},reset:function(k){return j.removeCookie()}}},build_viewport_mask:function(){var k=null;if(true===this.options.mask){var j=this.options.maskOpacity;var l=this.options.maskBackground;var n='<div id="cookiebanner-mask" style="position:fixed;top:0;left:0;width:100%;height:100%;background:'+l+";zoom:1;filter:alpha(opacity="+(j*100)+");opacity:"+j+";z-index:"+this.options.zindex+';"></div>';var m=h.createElement("div");m.innerHTML=n;k=m.firstChild}return k},close:function(){if(this.inserted){if(!this.closed){if(this.element){h.body.removeChild(this.element)}if(this.element_mask){h.body.removeChild(this.element_mask)}this.closed=true}}return this.closed},agree_and_close:function(){this.agree();return this.close()},cleanup:function(){this.close();return this.unload()},unload:function(){if(this.script_el){this.script_el.parentNode.removeChild(this.script_el)}a[g]=undefined;return true},insert:function(){var j=this,n,m,l,k;this.element_mask=this.build_viewport_mask();n=this.options.zindex;if(this.element_mask){n+=1}m=h.createElement("div");m.className="cookiebanner";m.style.position="fixed";m.style.left=0;m.style.right=0;m.style.height=this.options.height;m.style.minHeight=this.options.minHeight;m.style.zIndex=n;m.style.background=this.options.bg;m.style.color=this.options.fg;m.style.lineHeight=m.style.minHeight;m.style.padding="5px 16px";m.style.fontFamily=this.options.fontFamily;m.style.fontSize=this.options.fontSize;if("top"===this.options.position){m.style.top=0}else{m.style.bottom=0}l=h.createElement("div");l.className="cookiebanner-close";l.style.cursor="pointer";l.style.cssFloat="right";l.style.paddingLeft="5px";l.innerHTML=this.options.closeText;e.on(l,"click",function(){j.agree_and_close()});this.info=h.createElement("span");this.info.innerHTML=this.options.message;if(!this.onMoreInfoPage()){this.a=h.createElement("a");this.a.href=this.options.moreinfo;this.a.style.textDecoration="none",this.a.style.color=this.options.link;this.a.style.padding="0 5px";this.a.innerHTML=this.options.linkmsg;k=h.createElement("span");k.style.color=this.options.link;k.innerHTML="|";this.info.appendChild(this.a);this.info.appendChild(k)}this.configure=h.createElement("input");this.configure.type="button";this.configure.style.cursor="pointer";this.configure.style.padding="0 5px";this.configure.style.background="none repeat scroll 0 0 #000";this.configure.style.border="medium none";this.configure.style.color=this.options.link;this.configure.value=this.options.configure;this.info.appendChild(this.configure);m.appendChild(l);m.appendChild(this.info);for(name in this.agreeMask){if(this.isAllowed(name,this.askBinary)){m.appendChild(this.addQuestion(name));m.appendChild(this.addAnswer(name))}}e.on(this.configure,"click",function(){j.allowed=0;j.save();j.nextStep()});this.element=m;if(this.element_mask){e.on(this.element_mask,"click",function(){j.agree_and_close()});h.body.appendChild(this.element_mask)}h.body.insertBefore(this.element,h.body.children[0]);this.inserted=true;if("fade"===this.options.effect){this.element.style.opacity=0;e.fade_in(this.element)}else{this.element.style.opacity=1}}};if(c){if(!a[g]){a[g]=new i()}}})(window);