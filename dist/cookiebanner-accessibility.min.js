!function(a){"use strict";/*!
   * contentloaded.js
   *
   * Author: Diego Perini (diego.perini at gmail.com)
   * Summary: cross-browser wrapper for DOMContentLoaded
   * Updated: 20101020
   * License: MIT
   * Version: 1.2
   *
   * URL:
   * http://javascript.nwbox.com/ContentLoaded/
   * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE
   *
   */
function b(a,b){var c=!1,d=!0,e=a.document,f=e.documentElement,g=e.addEventListener?"addEventListener":"attachEvent",h=e.addEventListener?"removeEventListener":"detachEvent",i=e.addEventListener?"":"on",j=function(d){("readystatechange"!=d.type||"complete"==e.readyState)&&(("load"==d.type?a:e)[h](i+d.type,j,!1),!c&&(c=!0)&&b.call(a,d.type||d))},k=function(){try{f.doScroll("left")}catch(a){return void setTimeout(k,50)}j("poll")};if("complete"==e.readyState)b.call(a,"lazy");else{if(e.createEventObject&&f.doScroll){try{d=!a.frameElement}catch(l){}d&&k()}e[g](i+"DOMContentLoaded",j,!1),e[g](i+"readystatechange",j,!1),a[g](i+"load",j,!1)}}var c=a,d=c.document,e="cbinstance",f={get:function(a){return decodeURIComponent(d.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},set:function(a,b,c,e,f,g){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var h="";if(c)switch(c.constructor){case Number:h=1/0===c?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:h="; expires="+c;break;case Date:h="; expires="+c.toUTCString()}return d.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+h+(f?"; domain="+f:"")+(e?"; path="+e:"")+(g?"; secure":""),!0},has:function(a){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(d.cookie)},remove:function(a,b,c){return a&&this.has(a)?(d.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain="+c:"")+(b?"; path="+b:""),!0):!1}},g={on:function(a,b,c){var d=a.addEventListener?"addEventListener":"attachEvent",e=a.addEventListener?"":"on";a[d](e+b,c,!1)},merge:function(){var a,b={},c=0,d=arguments.length;if(0===d)return b;for(;d>c;c++)for(a in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],a)&&(b[a]=arguments[c][a]);return b},str2bool:function(a){switch(a=""+a,a.toLowerCase()){case"false":case"no":case"0":case"":return!1;default:return!0}},fade_in:function(a){a.style.opacity<1&&(a.style.opacity=(parseFloat(a.style.opacity)+.05).toFixed(2),c.setTimeout(function(){g.fade_in(a)},50))},get_data_attribs:function(a){var b={};if(Object.prototype.hasOwnProperty.call(a,"dataset"))b=a.dataset;else{var c,d=a.attributes;for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)){var e=d[c];if(/^data-/.test(e.name)){var f=g.camelize(e.name.substr(5));b[f]=e.value}}}return b},normalize_keys:function(a){var b={};for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=g.camelize(c);b[d]=a[d]?a[d]:a[c]}return b},camelize:function(a){for(var b="-",c=a.indexOf(b);-1!=c;){var d=c===a.length-1,e=d?"":a[c+1],f=e.toUpperCase(),g=d?b:b+e;a=a.replace(g,f),c=a.indexOf(b)}return a},find_script_by_id:function(a){for(var b=d.getElementsByTagName("script"),c=0,e=b.length;e>c;c++)if(a===b[c].id)return b[c];return null}},h=g.find_script_by_id("cookiebanner"),i=function(a){this.init(a)};i.prototype={options:{},inputs:[],focusable:[],cookiejar:f,allowed:0,allowedBinary:"000",askBinary:"000",info:null,a:null,configure:null,steps:[],currentStep:-1,agreeValue:{audience:1,social:2,pub:4},agreeReplace:{audience:/^(..)(.)()$/,social:/^(.)(.)(.)$/,pub:/^()(.)(..)$/},agreeMask:{audience:"..1",social:".1.",pub:"1.."},add:function(a){this.allowed+=this.agreeValue[a],this.save()},set:function(a){this.allowed=a,this.save()},save:function(){this.setCookie(this.allowed)},decodeAllowed:function(a){return("000"+parseInt(a).toString(2)).substr(-3)},isAllowed:function(a,b){var c;return a in this.agreeMask?(c=new RegExp(this.agreeMask[a]),c.test(b)):!1},addQuestion:function(a){var b=this,c=d.createElement("div"),e=d.createElement("form"),f=d.createTextNode(this.options[a]),h=d.createElement("label"),i=d.createElement("label"),j=d.createElement("input"),k=d.createElement("input"),l=d.createElement("div"),m=d.createElement("div"),n=d.createElement("input"),o=d.createElement("div"),p=[],q=[];return p.push(j),p.push(k),q.push(h),q.push(j),q.push(i),q.push(k),q.push(n),this.inputs.push(p),this.focusable.push(q),n.type="button",n.value="OK",n.style.background="none repeat scroll 0 0 #000",n.style.border="1px solid "+this.options.fg,n.style.color=this.options.fg,o.style.display="inline-block",o.appendChild(n),j.type=k.type="radio",j.name=k.name="cookiebanner-"+a,j.id="cookiebanner-"+a+"-yes",k.id="cookiebanner-"+a+"-no",g.on(n,"click",function(){j.checked?b.add(a):b.save(),b.nextStep()}),h.innerHTML=this.options.yes,h.htmlFor=j.id,i.innerHTML=this.options.no,i.htmlFor=k.id,c.style.display="none",c.setAttribute("aria-hidden",!0),e.appendChild(f),l.style.padding=m.style.padding="5px 16px",l.style.display="inline-block",l.appendChild(h),l.appendChild(j),e.appendChild(l),m.style.display="inline-block",m.appendChild(i),m.appendChild(k),e.appendChild(m),e.appendChild(o),c.appendChild(e),this.steps.push(c),c},addAnswer:function(a){var b=this,c=d.createElement("div"),e=d.createElement("p"),f=d.createElement("input"),h=d.createElement("div"),i=d.createElement("form"),j=[],k=[];return f.type="button",f.value="OK",f.style.background="none repeat scroll 0 0 transparent",f.style.border="1px solid "+this.options.fg,f.style.color=this.options.fg,h.style.display="inline-block",h.appendChild(f),k.push(f),this.inputs.push(j),this.focusable.push(k),e.style.padding="5px 16px",e.innerHTML=this.options[a+"Answer"],e.style.display="inline-block",i.appendChild(e),i.appendChild(h),c.appendChild(i),c.style.display="none",c.setAttribute("aria-hidden",!0),g.on(f,"click",function(){b.nextStep()}),this.steps.push(c),c},nextStep:function(){var a,b,c;if(this.currentStep>-1){for(a=this.steps[this.currentStep],a.style.display="none",a.setAttribute("aria-hidden",!0),b=0;b<this.inputs[this.currentStep].length;b++)this.inputs[this.currentStep][b].checked=!1;for(c=0;c<this.focusable[this.currentStep].length;c++)this.focusable[this.currentStep][c].tabIndex=-1}else this.info.style.display="none",this.info.setAttribute("aria-hidden",!0),null!==this.a&&(this.a.tabIndex=-1),this.configure.tabIndex=-1;if(this.currentStep++,this.currentStep<this.steps.length){for(a=this.steps[this.currentStep],a.style.display="inline",a.setAttribute("aria-hidden",!1),b=0;b<this.inputs[this.currentStep].length;b++)this.inputs[this.currentStep][b].checked=!1;for(c=0;c<this.focusable[this.currentStep].length;c++)this.focusable[this.currentStep][c].tabIndex=b}else this.info.style.display="inline",this.info.setAttribute("aria-hidden",!1),null!==this.a&&(this.a.tabIndex=0),this.configure.tabIndex=1,this.currentStep=-1},visit:function(){return this.cookiejar.set(this.options.cookie,-1,300,this.options.cookiePath),!0},visited:function(){return this.hasCookie()&&-1==this.getCookie()&&!this.onMoreInfoPage()},agree:function(){return this.set(7),!0},agreed:function(){return this.getCookie()>-1},hasCookie:function(){return this.cookiejar.has(this.options.cookie)},getCookie:function(){return parseInt(this.cookiejar.get(this.options.cookie))},setCookie:function(a){return this.cookiejar.set(this.options.cookie,a,this.options.expires,this.options.cookiePath),!0},removeCookie:function(){return this.cookiejar.remove(this.options.cookie,this.options.cookiePath),!0},init:function(b){this.inserted=!1,this.closed=!1,this.test_mode=!1;var c="Acceptez-vous d'être suivi(e) par notre outils de mesure d'audience ?",d="Acceptez-vous d'être suivi(e) par notre outils de partage sur les réseaux sociaux ?",f="Acceptez-vous d'être suivi(e) par nos fournisseurs de publicité ?",i="Votre paramétrage sur les outils de mesure d'audience a été enregistré.",j="Votre paramétrage sur les outils de partage sur les réseaux sociaux.",k="Votre paramétrage sur le suivi de nos fournisseurs de publicité.",l="Nous utilisons des cookies afin d'établir des statistiques de fréquentation du site et vous permettre le partage sur les réseaux sociaux. En poursuivant votre navigation sur ce site, vous acceptez notre utilisation des cookies.",m="En savoir plus";if(this.default_options={cookie:"cookiebanner-accepted",closeText:"&#10006;",cookiePath:"/",debug:!1,expires:function(){var a=13,b=new Date;return b.setMonth(b.getMonth()+a),b},zindex:255,mask:!1,maskOpacity:.5,maskBackground:"#000",height:"auto",minHeight:"21px",bg:"#000",fg:"#ddd",link:"#aaa",position:"bottom",message:l,linkmsg:m,moreinfo:"http://aboutcookies.org",configure:"Paramétrer",ask:"0",audience:c,audienceAnswer:i,social:d,socialAnswer:j,pub:f,pubAnswer:k,yes:"Oui",no:"Non",effect:null,fontSize:"14px",fontFamily:"arial, sans-serif",instance:e},this.options=this.default_options,this.script_el=h,this.script_el){var n=g.get_data_attribs(this.script_el);this.options=g.merge(this.options,n)}b&&(b=g.normalize_keys(b),this.options=g.merge(this.options,b)),e=this.options.instance,this.options.zindex=parseInt(this.options.zindex,10),this.options.mask=g.str2bool(this.options.mask),"string"==typeof this.options.expires&&"function"==typeof a[this.options.expires]&&(this.options.expires=a[this.options.expires]),"function"==typeof this.options.expires&&(this.options.expires=this.options.expires()),this.script_el&&this.run()},log:function(){"undefined"!=typeof console&&console.log.apply(console,arguments)},onMoreInfoPage:function(){return document.location.href===this.options.moreinfo},run:function(){var d=this;if(this.visited()&&this.agree(),!this.agreed()||this.onMoreInfoPage()){this.visit();var d=this;b(c,function(){d.insert()})}this.askBinary=this.decodeAllowed(this.options.ask),this.allowed=this.hasCookie()&&this.getCookie()>-1?this.getCookie():0,this.allowedBinary=this.decodeAllowed(this.allowed),a.Cookiebanner={isAllowed:function(a){return d.isAllowed(a,d.allowedBinary)},reset:function(){return d.removeCookie()}}},build_viewport_mask:function(){var a=null;if(!0===this.options.mask){var b=this.options.maskOpacity,c=this.options.maskBackground,e='<div id="cookiebanner-mask" style="position:fixed;top:0;left:0;width:100%;height:100%;background:'+c+";zoom:1;filter:alpha(opacity="+100*b+");opacity:"+b+";z-index:"+this.options.zindex+';"></div>',f=d.createElement("div");f.innerHTML=e,a=f.firstChild}return a},close:function(){return this.inserted&&(this.closed||(this.element&&d.body.removeChild(this.element),this.element_mask&&d.body.removeChild(this.element_mask),this.closed=!0)),this.closed},agree_and_close:function(){return this.agree(),this.close()},cleanup:function(){return this.close(),this.unload()},unload:function(){return this.script_el&&this.script_el.parentNode.removeChild(this.script_el),a[e]=void 0,!0},insert:function(){var a,b,c,e,f=this;this.element_mask=this.build_viewport_mask(),a=this.options.zindex,this.element_mask&&(a+=1),b=d.createElement("div"),b.className="cookiebanner",b.style.position="fixed",b.style.left=0,b.style.right=0,b.style.height=this.options.height,b.style.minHeight=this.options.minHeight,b.style.zIndex=a,b.style.background=this.options.bg,b.style.color=this.options.fg,b.style.lineHeight=b.style.minHeight,b.style.padding="5px 16px",b.style.fontFamily=this.options.fontFamily,b.style.fontSize=this.options.fontSize,"top"===this.options.position?b.style.top=0:b.style.bottom=0,c=d.createElement("div"),c.className="cookiebanner-close",c.style.cursor="pointer",c.style.cssFloat="right",c.style.paddingLeft="5px",c.innerHTML=this.options.closeText,g.on(c,"click",function(){f.agree_and_close()}),this.info=d.createElement("span"),this.info.innerHTML=this.options.message,this.onMoreInfoPage()||(this.a=d.createElement("a"),this.a.href=this.options.moreinfo,this.a.style.textDecoration="none",this.a.style.color=this.options.link,this.a.style.padding="0 5px",this.a.innerHTML=this.options.linkmsg,e=d.createElement("span"),e.style.color=this.options.link,e.innerHTML="|",this.info.appendChild(this.a),this.info.appendChild(e)),this.configure=d.createElement("input"),this.configure.type="button",this.configure.style.cursor="pointer",this.configure.style.padding="0 5px",this.configure.style.background="none repeat scroll 0 0 #000",this.configure.style.border="medium none",this.configure.style.color=this.options.link,this.configure.value=this.options.configure,this.info.appendChild(this.configure),b.appendChild(c),b.appendChild(this.info);for(name in this.agreeMask)this.isAllowed(name,this.askBinary)&&(b.appendChild(this.addQuestion(name)),b.appendChild(this.addAnswer(name)));g.on(this.configure,"click",function(){f.allowed=0,f.save(),f.nextStep()}),this.element=b,this.element_mask&&(g.on(this.element_mask,"click",function(){f.agree_and_close()}),d.body.appendChild(this.element_mask)),d.body.insertBefore(this.element,d.body.children[0]),this.inserted=!0,"fade"===this.options.effect?(this.element.style.opacity=0,g.fade_in(this.element)):this.element.style.opacity=1}},h&&(a[e]||(a[e]=new i))}(window);