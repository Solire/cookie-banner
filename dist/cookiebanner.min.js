!function(a){"use strict";/*!
     * contentloaded.js
     *
     * Author: Diego Perini (diego.perini at gmail.com)
     * Summary: cross-browser wrapper for DOMContentLoaded
     * Updated: 20101020
     * License: MIT
     * Version: 1.2
     *
     * URL:
     * http://javascript.nwbox.com/ContentLoaded/
     * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE
     *
     */
function b(a,b){var c=!1,d=!0,e=a.document,f=e.documentElement,g=e.addEventListener?"addEventListener":"attachEvent",h=e.addEventListener?"removeEventListener":"detachEvent",i=e.addEventListener?"":"on",j=function(d){("readystatechange"!=d.type||"complete"==e.readyState)&&(("load"==d.type?a:e)[h](i+d.type,j,!1),!c&&(c=!0)&&b.call(a,d.type||d))},k=function(){try{f.doScroll("left")}catch(a){return void setTimeout(k,50)}j("poll")};if("complete"==e.readyState)b.call(a,"lazy");else{if(e.createEventObject&&f.doScroll){try{d=!a.frameElement}catch(l){}d&&k()}e[g](i+"DOMContentLoaded",j,!1),e[g](i+"readystatechange",j,!1),a[g](i+"load",j,!1)}}var c=a,d=c.document,e="cbinstance",f={get:function(a){return decodeURIComponent(d.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},set:function(a,b,c,e,f,g){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var h="";if(c)switch(c.constructor){case Number:h=1/0===c?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:h="; expires="+c;break;case Date:h="; expires="+c.toUTCString()}return d.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+h+(f?"; domain="+f:"")+(e?"; path="+e:"")+(g?"; secure":""),!0},has:function(a){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(d.cookie)},remove:function(a,b,c){return a&&this.has(a)?(d.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain="+c:"")+(b?"; path="+b:""),!0):!1}},g={on:function(a,b,c){var d=a.addEventListener?"addEventListener":"attachEvent",e=a.addEventListener?"":"on";a[d](e+b,c,!1)},merge:function(){var a,b={},c=0,d=arguments.length;if(0===d)return b;for(;d>c;c++)for(a in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],a)&&(b[a]=arguments[c][a]);return b},str2bool:function(a){switch(a=""+a,a.toLowerCase()){case"false":case"no":case"0":case"":return!1;default:return!0}},fade_in:function(a){a.style.opacity<1&&(a.style.opacity=(parseFloat(a.style.opacity)+.05).toFixed(2),c.setTimeout(function(){g.fade_in(a)},50))},get_data_attribs:function(a){var b={};if(Object.prototype.hasOwnProperty.call(a,"dataset"))b=a.dataset;else{var c,d=a.attributes;for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)){var e=d[c];if(/^data-/.test(e.name)){var f=g.camelize(e.name.substr(5));b[f]=e.value}}}return b},normalize_keys:function(a){var b={};for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=g.camelize(c);b[d]=a[d]?a[d]:a[c]}return b},camelize:function(a){for(var b="-",c=a.indexOf(b);-1!=c;){var d=c===a.length-1,e=d?"":a[c+1],f=e.toUpperCase(),g=d?b:b+e;a=a.replace(g,f),c=a.indexOf(b)}return a},find_script_by_id:function(a){for(var b=d.getElementsByTagName("script"),c=0,e=b.length;e>c;c++)if(a===b[c].id)return b[c];return null}},h=g.find_script_by_id("cookiebanner"),i=function(a){this.init(a)};i.prototype={options:{},inputs:[],cookiejar:f,allowed:0,allowedBinary:"000",askBinary:"000",info:null,configure:null,pipe:null,questions:[],currentQuestion:-1,agreeValue:{audience:1,social:2,pub:4},agreeReplace:{audience:/^(..)(.)()$/,social:/^(.)(.)(.)$/,pub:/^()(.)(..)$/},agreeMask:{audience:"..1",social:".1.",pub:"1.."},add:function(a){this.allowed+=this.agreeValue[a],this.save()},set:function(a){this.allowed=a,this.save()},save:function(){this.setCookie(this.allowed)},decodeAllowed:function(a){return("000"+parseInt(a).toString(2)).substr(-3)},isAllowed:function(a,b){var c;return a in this.agreeMask?(c=new RegExp(this.agreeMask[a]),c.test(b)):!1},askForm:function(a,b){var c=this,e=d.createElement("span"),f=d.createTextNode(this.options[a]),h=d.createElement("label"),i=d.createElement("label"),j=d.createElement("input"),k=d.createElement("input"),l=d.createTextNode(this.options.yes),m=d.createTextNode(this.options.no);return this.inputs.push(j),this.inputs.push(k),j.type=k.type="radio",j.name=k.name="cookiebanner-"+a,g.on(j,"change",function(){c.nextQuestion(),c.add(a)}),g.on(k,"change",function(){c.nextQuestion(),c.save()}),h.appendChild(j),h.appendChild(l),i.appendChild(k),i.appendChild(m),b||(e.style.display="none"),e.appendChild(f),e.appendChild(h),e.appendChild(i),this.questions.push(e),e},nextQuestion:function(){for(var a=0;a<this.inputs.length;a++)this.inputs[a].checked=!1;this.currentQuestion>-1?this.questions[this.currentQuestion].style.display="none":(this.info.style.display="none",this.configure.style.display="none",null!==this.pipe&&(this.pipe.style.display="none")),this.currentQuestion++,this.questions.length>this.currentQuestion?this.questions[this.currentQuestion].style.display="inline":(this.info.style.display="inline",this.configure.style.display="inline",null!==this.pipe&&(this.pipe.style.display="inline"),this.currentQuestion=-1)},visit:function(){return this.cookiejar.set(this.options.cookie,-1,300,this.options.cookiePath),!0},visited:function(){return this.hasCookie()&&-1==this.getCookie()&&!this.onMoreInfoPage()},agree:function(){return this.set(7),!0},agreed:function(){return this.getCookie()>-1},hasCookie:function(){return this.cookiejar.has(this.options.cookie)},getCookie:function(){return parseInt(this.cookiejar.get(this.options.cookie))},setCookie:function(a){return this.cookiejar.set(this.options.cookie,a,this.options.expires,this.options.cookiePath),!0},removeCookie:function(){return this.cookiejar.remove(this.options.cookie,this.options.cookiePath),!0},init:function(b){this.inserted=!1,this.closed=!1,this.test_mode=!1;var c="Acceptez-vous d'être suivi(e) par notre outils de mesure d'audience ?",d="Acceptez-vous d'être suivi(e) par notre outils de partage sur les réseaux sociaux ?",f="Acceptez-vous d'être suivi(e) par nos fournisseurs de publicité ?",i="Nous utilisons des cookies afin d'établir des statistiques de fréquentation du site et vous permettre le partage sur les réseaux sociaux. En poursuivant votre navigation sur ce site, vous acceptez notre utilisation des cookies.",j="En savoir plus";if(this.default_options={cookie:"cookiebanner-accepted",closeText:"&#10006;",cookiePath:"/",debug:!1,expires:function(){var a=13,b=new Date;return b.setMonth(b.getMonth()+a),b},zindex:255,mask:!1,maskOpacity:.5,maskBackground:"#000",height:"auto",minHeight:"21px",bg:"#000",fg:"#ddd",link:"#aaa",position:"bottom",message:i,linkmsg:j,moreinfo:"http://aboutcookies.org",configure:"Paramétrer",ask:"0",audience:c,social:d,pub:f,yes:"Oui",no:"Non",effect:null,fontSize:"14px",fontFamily:"arial, sans-serif",instance:e},this.options=this.default_options,this.script_el=h,this.script_el){var k=g.get_data_attribs(this.script_el);this.options=g.merge(this.options,k)}b&&(b=g.normalize_keys(b),this.options=g.merge(this.options,b)),e=this.options.instance,this.options.zindex=parseInt(this.options.zindex,10),this.options.mask=g.str2bool(this.options.mask),"string"==typeof this.options.expires&&"function"==typeof a[this.options.expires]&&(this.options.expires=a[this.options.expires]),"function"==typeof this.options.expires&&(this.options.expires=this.options.expires()),this.script_el&&this.run()},log:function(){"undefined"!=typeof console&&console.log.apply(console,arguments)},onMoreInfoPage:function(){return document.location.href===this.options.moreinfo},run:function(){var d=this;if(this.visited()&&this.agree(),!this.agreed()||this.onMoreInfoPage()){-this.visit();var d=this;b(c,function(){d.insert()})}this.askBinary=this.decodeAllowed(this.options.ask),this.allowed=this.hasCookie()&&this.getCookie()>-1?this.getCookie():0,this.allowedBinary=this.decodeAllowed(this.allowed),a.Cookiebanner={isAllowed:function(a){return d.isAllowed(a,d.allowedBinary)},reset:function(){return d.removeCookie()}}},build_viewport_mask:function(){var a=null;if(!0===this.options.mask){var b=this.options.maskOpacity,c=this.options.maskBackground,e='<div id="cookiebanner-mask" style="position:fixed;top:0;left:0;width:100%;height:100%;background:'+c+";zoom:1;filter:alpha(opacity="+100*b+");opacity:"+b+";z-index:"+this.options.zindex+';"></div>',f=d.createElement("div");f.innerHTML=e,a=f.firstChild}return a},close:function(){return this.inserted&&(this.closed||(this.element&&d.body.removeChild(this.element),this.element_mask&&d.body.removeChild(this.element_mask),this.closed=!0)),this.closed},agree_and_close:function(){return this.agree(),this.close()},cleanup:function(){return this.close(),this.unload()},unload:function(){return this.script_el&&this.script_el.parentNode.removeChild(this.script_el),a[e]=void 0,!0},insert:function(){var a,b,c,e,f=this;this.element_mask=this.build_viewport_mask(),a=this.options.zindex,this.element_mask&&(a+=1),b=d.createElement("div"),b.className="cookiebanner",b.style.position="fixed",b.style.left=0,b.style.right=0,b.style.height=this.options.height,b.style.minHeight=this.options.minHeight,b.style.zIndex=a,b.style.background=this.options.bg,b.style.color=this.options.fg,b.style.lineHeight=b.style.minHeight,b.style.padding="5px 16px",b.style.fontFamily=this.options.fontFamily,b.style.fontSize=this.options.fontSize,"top"===this.options.position?b.style.top=0:b.style.bottom=0,e=d.createElement("div"),e.className="cookiebanner-close",e.style.cursor="pointer",e.style.cssFloat="right",e.style.paddingLeft="5px",e.innerHTML=this.options.closeText,g.on(e,"click",function(){f.agree_and_close()}),this.onMoreInfoPage()||(c=d.createElement("a"),c.href=this.options.moreinfo,c.style.textDecoration="none",c.style.color=this.options.link,c.style.padding="0 5px",c.innerHTML=this.options.linkmsg,this.pipe=d.createElement("span"),this.pipe.style.color=this.options.link,this.pipe.innerHTML="|"),this.configure=d.createElement("span"),this.configure.style.cursor="pointer",this.configure.style.padding="0 5px",this.configure.style.color=this.options.link,this.configure.innerHTML=this.options.configure,this.info=d.createElement("span"),this.info.innerHTML=this.options.message,b.appendChild(e),b.appendChild(this.info);for(name in this.agreeMask)this.isAllowed(name,this.askBinary)&&b.appendChild(this.askForm(name,!1));this.onMoreInfoPage()||(b.appendChild(c),b.appendChild(this.pipe)),b.appendChild(this.configure),g.on(this.configure,"click",function(){f.allowed=0,f.save(),f.nextQuestion()}),this.element=b,this.element_mask&&(g.on(this.element_mask,"click",function(){f.agree_and_close()}),d.body.appendChild(this.element_mask)),d.body.appendChild(this.element),this.inserted=!0,"fade"===this.options.effect?(this.element.style.opacity=0,g.fade_in(this.element)):this.element.style.opacity=1}},h&&(a[e]||(a[e]=new i))}(window);