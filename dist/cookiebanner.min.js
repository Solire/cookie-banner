(function(a){var d=a,h=d.document;var g="cbinstance";
/*!
     * contentloaded.js
     *
     * Author: Diego Perini (diego.perini at gmail.com)
     * Summary: cross-browser wrapper for DOMContentLoaded
     * Updated: 20101020
     * License: MIT
     * Version: 1.2
     *
     * URL:
     * http://javascript.nwbox.com/ContentLoaded/
     * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE
     *
     */
;function b(l,p){var k=false,o=true,r=l.document,q=r.documentElement,u=r.addEventListener?"addEventListener":"attachEvent",s=r.addEventListener?"removeEventListener":"detachEvent",j=r.addEventListener?"":"on",t=function(v){if(v.type=="readystatechange"&&r.readyState!="complete"){return}(v.type=="load"?l:r)[s](j+v.type,t,false);if(!k&&(k=true)){p.call(l,v.type||v)}},n=function(){try{q.doScroll("left")}catch(v){setTimeout(n,50);return}t("poll")};if(r.readyState=="complete"){p.call(l,"lazy")}else{if(r.createEventObject&&q.doScroll){try{o=!l.frameElement}catch(m){}if(o){n()}}r[u](j+"DOMContentLoaded",t,false);r[u](j+"readystatechange",t,false);l[u](j+"load",t,false)}}var f={get:function(j){return decodeURIComponent(h.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(j).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},set:function(l,p,k,o,m,n){if(!l||/^(?:expires|max\-age|path|domain|secure)$/i.test(l)){return false}var j="";if(k){switch(k.constructor){case Number:j=k===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+k;break;case String:j="; expires="+k;break;case Date:j="; expires="+k.toUTCString();break}}h.cookie=encodeURIComponent(l)+"="+encodeURIComponent(p)+j+(m?"; domain="+m:"")+(o?"; path="+o:"")+(n?"; secure":"");return true},has:function(j){return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(j).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(h.cookie)},remove:function(j,l,k){if(!j||!this.has(j)){return false}h.cookie=encodeURIComponent(j)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(k?"; domain="+k:"")+(l?"; path="+l:"");return true}},e={on:function(k,l,j){var n=k.addEventListener?"addEventListener":"attachEvent",m=k.addEventListener?"":"on";k[n](m+l,j,false)},merge:function(){var m={},k=0,l=arguments.length,j;if(0===l){return m}for(;k<l;k++){for(j in arguments[k]){if(Object.prototype.hasOwnProperty.call(arguments[k],j)){m[j]=arguments[k][j]}}}return m},str2bool:function(j){j=""+j;switch(j.toLowerCase()){case"false":case"no":case"0":case"":return false;default:return true}},fade_in:function(j){if(j.style.opacity<1){j.style.opacity=(parseFloat(j.style.opacity)+0.05).toFixed(2);d.setTimeout(function(){e.fade_in(j)},50)}},get_data_attribs:function(k){var n={};if(Object.prototype.hasOwnProperty.call(k,"dataset")){n=k.dataset}else{var o=k.attributes;var l;for(l in o){if(Object.prototype.hasOwnProperty.call(o,l)){var j=o[l];if(/^data-/.test(j.name)){var m=e.camelize(j.name.substr(5));n[m]=j.value}}}}return n},normalize_keys:function(j){var m={};for(var l in j){if(Object.prototype.hasOwnProperty.call(j,l)){var k=e.camelize(l);m[k]=j[k]?j[k]:j[l]}}return m},camelize:function(p){var o="-",k=p.indexOf(o);while(k!=-1){var n=(k===(p.length-1)),l=n?"":p[k+1],j=l.toUpperCase(),m=n?o:o+l;p=p.replace(m,j);k=p.indexOf(o)}return p},find_script_by_id:function(n){var j=h.getElementsByTagName("script");for(var m=0,k=j.length;m<k;m++){if(n===j[m].id){return j[m]}}return null}},c=e.find_script_by_id("cookiebanner"),i=function(j){this.init(j)};i.prototype={options:{},inputs:[],cookiejar:f,allowed:0,allowedBinary:"000",askBinary:"000",info:null,configure:null,pipe:null,questions:[],currentQuestion:-1,agreeValue:{audience:1,social:2,pub:4},agreeReplace:{audience:/^(..)(.)()$/,social:/^(.)(.)(.)$/,pub:/^()(.)(..)$/},agreeMask:{audience:"..1",social:".1.",pub:"1.."},add:function(j){this.allowed+=this.agreeValue[j];this.save()},set:function(j){this.allowed=j;this.save()},save:function(){this.setCookie(this.allowed)},decodeAllowed:function(j){return("000"+parseInt(j).toString(2)).substr(-3)},isAllowed:function(j,l){var k;if(!(j in this.agreeMask)){return false}k=new RegExp(this.agreeMask[j]);return k.test(l)},askForm:function(l,o){var u=this,m=h.createElement("span"),k=h.createTextNode(this.options[l]),r=h.createElement("label"),s=h.createElement("label"),j=h.createElement("input"),p=h.createElement("input"),n=h.createTextNode(this.options.yes),t=h.createTextNode(this.options.no);this.inputs.push(j);this.inputs.push(p);j.type=p.type="radio";j.name=p.name="cookiebanner-"+l;e.on(j,"change",function(){u.nextQuestion();u.add(l)});e.on(p,"change",function(){u.nextQuestion();u.save()});r.appendChild(j);r.appendChild(n);s.appendChild(p);s.appendChild(t);if(!o){m.style.display="none"}m.appendChild(k);m.appendChild(r);m.appendChild(s);this.questions.push(m);return m},nextQuestion:function(){for(var j=0;j<this.inputs.length;j++){this.inputs[j].checked=false}if(this.currentQuestion>-1){this.questions[this.currentQuestion].style.display="none"}else{this.info.style.display="none";this.configure.style.display="none";this.pipe.style.display="none"}this.currentQuestion++;if(this.questions.length>this.currentQuestion){this.questions[this.currentQuestion].style.display="inline"}else{this.info.style.display="inline";this.configure.style.display="inline";this.pipe.style.display="inline";this.currentQuestion=-1}},visit:function(){this.cookiejar.set(this.options.cookie,-1,300,this.options.cookiePath);return true},visited:function(){return this.hasCookie()&&this.getCookie()==-1&&document.location.href!=this.options.moreinfo},agree:function(){this.set(7);return true},agreed:function(){return this.getCookie()>-1},hasCookie:function(){return this.cookiejar.has(this.options.cookie)},getCookie:function(){return parseInt(this.cookiejar.get(this.options.cookie))},setCookie:function(j){this.cookiejar.set(this.options.cookie,j,this.options.expires,this.options.cookiePath);return true},removeCookie:function(j){this.cookiejar.remove(this.options.cookie,this.options.cookiePath);return true},init:function(p){this.inserted=false;this.closed=false;this.test_mode=false;var j="Acceptez-vous d'être suivi par notre outils de mesure d'audience";var m="Acceptez-vous d'être suivi par notre outils de partage sur les réseaux sociaux";var l="Acceptez-vous d'être suivi par notre outils de publicité";var o="Nous utilisons des cookies pour améliorer votre expérience. En poursuivant votre navigation sur ce site, vous acceptez notre utilisation des cookies.";var k="En savoir plus";this.default_options={cookie:"cookiebanner-accepted",closeText:"&#10006;",cookiePath:"/",debug:false,expires:function(){var q=13,r=new Date();r.setMonth(r.getMonth()+q);return r},zindex:255,mask:false,maskOpacity:0.5,maskBackground:"#000",height:"auto",minHeight:"21px",bg:"#000",fg:"#ddd",link:"#aaa",position:"bottom",message:o,linkmsg:k,moreinfo:"http://aboutcookies.org",configure:"Paramétrer",ask:"0",audience:j,social:m,pub:l,yes:"Oui",no:"Non",effect:null,fontSize:"14px",fontFamily:"arial, sans-serif",instance:g};this.options=this.default_options;this.script_el=c;if(this.script_el){var n=e.get_data_attribs(this.script_el);this.options=e.merge(this.options,n)}if(p){p=e.normalize_keys(p);this.options=e.merge(this.options,p)}g=this.options.instance;this.options.zindex=parseInt(this.options.zindex,10);this.options.mask=e.str2bool(this.options.mask);if("string"===typeof this.options.expires){if("function"===typeof a[this.options.expires]){this.options.expires=a[this.options.expires]}}if("function"===typeof this.options.expires){this.options.expires=this.options.expires()}if(this.script_el){this.run()}},log:function(){if("undefined"!==typeof console){console.log.apply(console,arguments)}},run:function(){var j=this;if(!this.agreed()||document.location.href==this.options.moreinfo){var j=this;b(d,function(){j.insert()})}this.askBinary=this.decodeAllowed(this.options.ask);if(this.hasCookie()&&this.getCookie()>-1){this.allowed=this.getCookie()}else{this.allowed=0}this.allowedBinary=this.decodeAllowed(this.allowed);a.Cookiebanner={isAllowed:function(k){return j.isAllowed(k,j.allowedBinary)},reset:function(k){return j.removeCookie()}}},build_viewport_mask:function(){var k=null;if(true===this.options.mask){var j=this.options.maskOpacity;var l=this.options.maskBackground;var n='<div id="cookiebanner-mask" style="position:fixed;top:0;left:0;width:100%;height:100%;background:'+l+";zoom:1;filter:alpha(opacity="+(j*100)+");opacity:"+j+";z-index:"+this.options.zindex+';"></div>';var m=h.createElement("div");m.innerHTML=n;k=m.firstChild}return k},close:function(){if(this.inserted){if(!this.closed){if(this.element){h.body.removeChild(this.element)}if(this.element_mask){h.body.removeChild(this.element_mask)}this.closed=true}}return this.closed},agree_and_close:function(){this.agree();return this.close()},cleanup:function(){this.close();return this.unload()},unload:function(){if(this.script_el){this.script_el.parentNode.removeChild(this.script_el)}a[g]=undefined;return true},insert:function(){var j=this,n,l,m,k;this.element_mask=this.build_viewport_mask();n=this.options.zindex;if(this.element_mask){n+=1}l=h.createElement("div");l.className="cookiebanner";l.style.position="fixed";l.style.left=0;l.style.right=0;l.style.height=this.options.height;l.style.minHeight=this.options.minHeight;l.style.zIndex=n;l.style.background=this.options.bg;l.style.color=this.options.fg;l.style.lineHeight=l.style.minHeight;l.style.padding="5px 16px";l.style.fontFamily=this.options.fontFamily;l.style.fontSize=this.options.fontSize;if("top"===this.options.position){l.style.top=0}else{l.style.bottom=0}k=h.createElement("div");k.className="cookiebanner-close";k.style.cursor="pointer";k.style.cssFloat="right";k.style.paddingLeft="5px";k.innerHTML=this.options.closeText;e.on(k,"click",function(){j.agree_and_close()});m=h.createElement("a");m.href=this.options.moreinfo;m.style.textDecoration="none",m.style.color=this.options.link;m.style.padding="0 5px";m.innerHTML=this.options.linkmsg;this.pipe=h.createElement("span");this.pipe.style.color=this.options.link;this.pipe.innerHTML="|";this.configure=h.createElement("span");this.configure.style.cursor="pointer";this.configure.style.padding="0 5px";this.configure.style.color=this.options.link;this.configure.innerHTML=this.options.configure;this.info=h.createElement("span");this.info.innerHTML=this.options.message;l.appendChild(k);l.appendChild(this.info);for(name in this.agreeMask){if(this.isAllowed(name,this.askBinary)){l.appendChild(this.askForm(name,false))}}l.appendChild(m);l.appendChild(this.pipe);l.appendChild(this.configure);e.on(this.configure,"click",function(){j.allowed=0;j.save();j.nextQuestion()});this.element=l;if(this.element_mask){e.on(this.element_mask,"click",function(){j.agree_and_close()});h.body.appendChild(this.element_mask)}h.body.appendChild(this.element);this.inserted=true;if("fade"===this.options.effect){this.element.style.opacity=0;e.fade_in(this.element)}else{this.element.style.opacity=1}}};if(c){if(!a[g]){a[g]=new i()}}})(window);